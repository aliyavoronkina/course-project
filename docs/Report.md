# Отчет о тестировании сервиса покупки туров

## Краткое описание

Проведено комплексное автоматизированное тестирование веб-сервиса по покупке туров. В ходе тестирования обнаружены критические дефекты, препятствующие корректной работе приложения.

## Результаты тестирования

### Общая статистика
| Метрика | Значение |
|---------|----------|
| Всего тест-кейсов | 25 |
| Успешных тестов | 1 |
| Неуспешных тестов | 24 |
| Процент успешных | 4% |
| Процент неуспешных | 96% |
| Время выполнения | 4 минуты 37 секунд |
| Период выполнения | 21.11.2025 22:07:01 - 22:11:39 |

### Детализация по тестовым наборам
| Тестовый набор | Количество тестов | Статус |
|----------------|------------------|---------|
| InvalidTest | 21 | 0% успешных |
| DebitTest | 2 | 0% успешных |
| CreditTest | 1 | 100% успешных |

## Детальный анализ результатов

### Успешные тесты (1):
- ✅ `CreditTest > Should successfully process credit with approved card`

### Основные причины падения тестов:

#### 1. Проблемы с базой данных (8 тестов)
- Данные о транзакциях не сохраняются в таблицы `payment_entity` и `credit_request_entity`
- Проверки статусов операций возвращают `null`

#### 2. Проблемы с уведомлениями (16 тестов)
- Уведомления об успешных операциях не отображаются
- Уведомления об ошибках не показываются
- Элементы уведомлений присутствуют в DOM, но скрыты (`displayed:false`)

## Критические дефекты

### Дефект #1: Нарушение работы с базой данных

**Серьезность:** Критический  
**Статус:** Открыт

**Описание:** После успешного заполнения форм оплаты данные о транзакциях не записываются в базу данных.

**Влияние:**
- Невозможно отслеживать историю платежей
- Нарушена основная бизнес-логика приложения
- Отсутствует аудит финансовых операций

**Доказательства:**
- Таблицы `payment_entity` и `credit_request_entity` остаются пустыми после операций
- SQL-запросы к БД возвращают пустые результаты

### Дефект #2: Не работают системные уведомления

**Серьезность:** Критический  
**Статус:** Открыт

**Описание:** Всплывающие уведомления о результате операций (успех/ошибка) не отображаются пользователю.

**Влияние:**
- Пользователь не получает обратной связи о результате операции
- Невозможно определить, прошла ли оплата успешно
- Ухудшение пользовательского опыта

**Доказательства:**
- Скриншоты в Allure отчетах показывают отсутствие уведомлений
- Элементы `.notification_status_ok` и `.notification_status_error` скрыты

### Дефект #3: Неполная валидация полей формы

**Серьезность:** Высокий  
**Статус:** Открыт

**Описание:** Система валидации полей формы работает непоследовательно и неполно.

**Конкретные проблемы:**
- Поле CVC показывает ошибки корректно
- Поля "Месяц", "Год", "Владелец" игнорируют критические ошибки
- Пустые поля не валидируются

**Пример:**
```plaintext
Месяц: 14 (несуществующий) → Нет ошибки ❌
Год: 30 (неверный формат) → Нет ошибки ❌  
Владелец: 666 (цифры вместо имени) → Нет ошибки ❌
CVC: 4 (слишком короткий) → "Неверный формат" ✅

Отчет составлен: 21.11.2025